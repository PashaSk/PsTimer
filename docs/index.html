<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>PashaSk Timer Directive</title>
	<script src="js/moment.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>
	<script src="js/pashask.timer.service.js"></script>
	<link rel="stylesheet" href="styles/bootstrap.min.css">
	<link rel="stylesheet" href="styles/styles.css">
	<script>
		var mainModule = angular.module('main', ['ps.timer'])
				.controller('mainController', ["$scope", "$timeout", "psTimer", "$interval", function($scope, $timeout, psTimer, $interval) {


					$scope.service = psTimer;

					$scope.formattingTimer = psTimer.initTimer({d: 2, h: 1, m:10, s:30});
					$scope.timer2 = psTimer.initTimer({}, true);

					function resetAll() {
						psTimer.resetAll();
					}

					$scope.runInitial = function() {
						$scope.initialTimer = psTimer.initTimer();
					}

					$scope.runInitialWithStartPoint = function() {
						$scope.initialWithStartPoint = psTimer.initTimer({h:1, m:10, s:30});
					}

					$scope.runInitialWithStartPointBelowZero = function() {
						$scope.initialWithStartPointBelowZero = psTimer.initTimer({m:-5, s:-30});
					}

				}]);
	</script>
</head>
<body ng-app="main" ng-controller="mainController">
<div style="width: 92%; max-width:1200px; margin: 0 auto;">
	<article>
		<h1>PashaSk Timer Service</h1>
		<p class="text-sm">Measure time of everything within your page.</p>
		<p class="margin-t">Based on MomentJs, service provide extensive opportunity to keep timer on your page and flexible API to shift, start, stop, reset your TimerObject.</p>
		<h2>Usage</h2>
		<ol>
			<li>Add js-source to your page</li>
			<li>Update module dependencies with new one:
				<pre>angular.module('main', ['ps.timer']);</pre>
			</li>
			<li>Include service to your controller and enjoy:
				<pre>myModule.controller("myAwesomeController", ["$scope", "psTimer", function($scope, psTimer) {});</pre>
			</li>
		</ol>
		<h2>API and examples</h2>
		<div class="row">
			<div class="col-md-4">
				<b>Initial call:</b>
				<p>Initiate timer instance with 00:00</p>
				<p>Variable myTimer will get a Timer instance with methods described below</p>
			</div>
			<div class="col-md-5">
				<div class="row">
					<div class="col-xs-10">
						<pre>$scope.myTimer = psTimer.initTimer();</pre>
					</div>
					<div class="col-xs-2">
						<button ng-click="runInitial()" class="btn btn-success">run!</button>
					</div>
				</div>
			</div>
			<div class="col-md-3">
				{{initialTimer.format("m:s:ms")}} <span ng-if="initialTimer"> //myTimer.format("m:s:ms")</span>
			</div>
		</div>
		<div class="row margin-tsm">
			<div class="col-md-4">
				<b>Initial with start point:</b>
				<p>Timer will start with your value</p>
				<p>For object format see <a href="http://momentjs.com/docs/#/durations/">MomentJS durations</a></p>
			</div>
			<div class="col-md-5">
				<div class="row">
					<div class="col-xs-10">
						<pre>$scope.myTimer = psTimer.initTimer({h:1, m:10, s:30});</pre>
					</div>
					<div class="col-xs-2">
						<button ng-click="runInitialWithStartPoint()" class="btn btn-success">run!</button>
					</div>
				</div>
			</div>
			<div class="col-md-3">
				{{initialWithStartPoint.format("h:m:s:ms")}} <span ng-if="initialWithStartPoint"> //myTimer.format("h:m:s:ms")</span>
			</div>
		</div>
		<div class="row margin-tsm">
			<div class="col-md-4">
				<b>Initial with start below zero:</b>
				<p>Your get countdown</p>
			</div>
			<div class="col-md-5">
				<div class="row">
					<div class="col-xs-10">
						<pre>$scope.myTimer = psTimer.initTimer({m:-5, s:-30});</pre>
					</div>
					<div class="col-xs-2">
						<button ng-click="runInitialWithStartPointBelowZero()" class="btn btn-success">run!</button>
					</div>
				</div>
			</div>
			<div class="col-md-3">
				{{initialWithStartPointBelowZero.format("m:s:ms")}} <span ng-if="initialWithStartPointBelowZero"> //myTimer.format("m:s:ms")</span>
			</div>
		</div>
		<div class="row margin-tsm">
			<div class="col-md-4">
				<b>Formatting examples:</b>
				<p> 'd' : 'days',<br>
					'h' : 'hours',<br>
					'm' : 'minutes',<br>
					's' : 'seconds',<br>
					'ms' : 'milliseconds'</p>
			</div>
			<div class="col-md-8">
				<pre>psTimer.initTimer({d: 2, h: 1, m:10, s:30});</pre>
				<div>{{formattingTimer.format("h:m:s")}} //myTimer.format("h:m:s")</div>
				<div>{{formattingTimer.format("d:h:m:s")}} //myTimer.format("d:h:m:s")</div>
				<div>{{formattingTimer.format("h:m")}} //myTimer.format("h:m")</div>
				<div>{{formattingTimer.format("s:ms")}} //myTimer.format("s:ms")</div>
			</div>
		</div>
		<div class="row margin-tsm">
			<div class="col-md-4">
				<b>Shifting:</b>
				<p>Shift your TimerObj whatever you want using MomentJS duration add syntax</p>
			</div>
			<div class="col-md-8">
			</div>
		</div>
	</article>

	<!--<div class="row">-->
		<!--<div class="col-xs-12">-->
			<!--{{timer1.format("m:s:ms")}}<br>-->
			<!--<button class="btn btn-primary" ng-click="timer1.remove()">Remove timer1</button><br>-->
			<!--<button class="btn btn-primary" ng-click="timer1.reset()">reset timer1</button><br>-->
			<!--<button class="btn btn-danger" ng-click="service.resetAll()">Reset All</button>-->
			<!--<button class="btn btn-success" ng-click="service.stopAll()">Stop All</button>-->
			<!--<button class="btn btn-primary" ng-click="service.resumeAll()">Resume All</button>-->
			<!--<button class="btn btn-danger" ng-click="service.removeAll()">Remove All</button>-->

			<!--timer2 with format: {{timer2.format("m:s")}}<br>-->
			<!--<div ng-if="timer1.isRemoved">Timer1 removed!</div>-->
			<!--<br>-->
			<!--{{timer4}}-->
		<!--</div>-->
	<!--</div>-->
</div>
</body>
</html>